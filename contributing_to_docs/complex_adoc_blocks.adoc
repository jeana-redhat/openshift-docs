[id="contributing-to-docs-complex_adoc_blocks"]
= Complex AsciiDoc block examples
:icons:
:toc: macro
:toc-title:
:toclevels: 1
:linkattrs:
:description: Complex AsciiDoc block examples

toc::[]

There is sometimes cause to use somewhat complex AsciiDoc syntax in procedure and reference content.
This is a frequent troubleshooting topic, so it seemed worthwhile to create a reference document showing some examples of correctly formatted block elements in various interactions.

[TIP]
====
To see how these examples are constructed, view the raw `.adoc` source file.
====

Errors often show up in the asciibinder output as something like `expected 1, got 5`.
In that case, the rendered callouts will run through `1` - `4` and then restart at `1` after a block element instead of continuing with `5`.

== In procedure content

Steps in procedures often have many embedded elements, including blocks and substeps.
You can use link:https://docs.asciidoctor.org/asciidoc/latest/blocks/open-blocks/[_open blocks_] to get complex list items to indent correctly.

Delineate open blocks by using `--` on the lines immediately preceding and following the included content.

.Procedure

. Here is a process with required subteps:
+
--
.. Gotta do this.
+
Here's some other info about that first substep.

.. And this too, but you can do it two ways:

*** This way.

*** Or this way.

.. Finally, do this.
--
+
Here's some follow-on information that applies to the whole step.

. To complete this step, run the following command:
+
--
[source,terminal]
----
$ cli --adjust object \\/<1>
  --while condition <2>
----
<1> Explanation of the `--adjust` argument.
+
[NOTE]
====
Something to keep in mind when using this argument.
====
+
[WARNING]
====
Something of crucial importance when using this argument.
====
<2> Explanation of the `--while` argument.
--

. You can use an open block in a substep. For example:

.. To complete part one, run the following command:
+
[source,terminal]
----
$ cli --list files
----
+
.Example output
[source,terminal]
----
document.txt
sample.yaml
wesite.html
----

.. To do the next thing, run the following command:
+
[source,terminal]
----
$ cli --edit sample.yaml
----
+
--
.Example output
[source,yaml]
----
data:
  tags:
    region: <site_region> # <1>
  code: <building_code>
  name: <building_name> # <2>
  coordinates: # <3>
    latitude: <site_latitude>
    longitude: <site_longitude>
# ...
----
<1> The geographical region the building belongs to.
+
[NOTE]
====
For more information, refer to the company website for region boundaries.
====
<2> The common name used for the building.
<3> The latitude and longitude, in decimal format.
--

.. Save your changes.

== In reference content

A common use case for complex block content in reference topics is YAML blocks with callouts.
Outside of a list, open blocks are not required.

.Example YAML with various callouts
[source,yaml]
----
data:
  tags:
    region: <site_region> # <1>
  code: <building_code>
  name: <building_name> # <2>
  coordinates: # <3>
    latitude: <site_latitude>
    longitude: <site_longitude>
# ...
----
<1> The geographical region the building belongs to. You can obtain the region value by running the following command:
+
[source,terminal]
----
$ cli --get-geo <building_code>
----
<2> The common name used for the building.
+
[NOTE]
====
For more information, refer to the company forum.
====
<3> The latitude and longitude, in decimal format.