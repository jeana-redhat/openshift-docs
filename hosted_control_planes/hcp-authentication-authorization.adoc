:_mod-docs-content-type: ASSEMBLY
[id="hcp-authentication-authorization"]
include::_attributes/common-attributes.adoc[]
= Authentication and authorization for {hcp}
:context: hcp-authentication-authorization

toc::[]

The {product-title} control plane includes a built-in OAuth server. You can obtain OAuth access tokens to authenticate to the {product-title} API. After you create your hosted cluster, you can configure OAuth by specifying an identity provider.

include::modules/hcp-configuring-oauth.adoc[leveloffset=+1]

include::modules/hcp-configuring-oauth-console.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* To know more about supported identity providers, see xref:../authentication/understanding-identity-provider.adoc#understanding-identity-provider["Understanding identity provider configuration"] in _Authentication and authorization_.

[id="hcp-ccoctl-aws-sts_{context}"]
== Configuring a {hcp} cluster to use the {aws-short} {sts-full}

{hcp-capital} clusters use the {aws-short} {sts-first} to assign components IAM roles that provide short-term, limited-privilege security credentials.

To configure your cluster to use the {aws-short} {sts-short}, you must use the Cloud Credential Operator (CCO) utility (`ccoctl`) to implement short-term security credentials for individual components.

include::modules/cco-ccoctl-configuring.adoc[leveloffset=+2]

[id="hcp-sts-mode-create-aws-resources-ccoctl_{context}"]
=== Creating {aws-short} resources with the Cloud Credential Operator utility

You have the following options when creating AWS resources:

* You can use the `ccoctl aws create-all` command to create the AWS resources automatically. This is the quickest way to create the resources. See xref:../hosted_control_planes/hcp-authentication-authorization.adoc#cco-ccoctl-creating-at-once_hcp-authentication-authorization[Creating AWS resources with a single command].

* If you need to review the JSON files that the `ccoctl` tool creates before modifying AWS resources, or if the process the `ccoctl` tool uses to create AWS resources automatically does not meet the requirements of your organization, you can create the AWS resources individually. See xref:../hosted_control_planes/hcp-authentication-authorization.adoc#cco-ccoctl-creating-individually_hcp-authentication-authorization[Creating AWS resources individually].

include::modules/cco-ccoctl-creating-at-once.adoc[leveloffset=+3]

include::modules/cco-ccoctl-creating-individually.adoc[leveloffset=+3]

include::modules/cco-ccoctl-install-creating-manifests.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

* To know about the Cloud Credential Operator, see xref:../operators/operator-reference.adoc#cloud-credential-operator_cluster-operators-ref[Cluster Operators reference page for the Cloud Credential Operator].
